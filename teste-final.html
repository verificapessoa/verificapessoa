<!DOCTYPE html>
<html>
<head>
    <meta charset=\"UTF-8\">
    <title>Teste Final</title>
</head>
<body style=\"background: #0a0a0a; color: white; padding: 20px; font-family: monospace;\">
    <h1 style=\"color: lime;\">ğŸ”¥ TESTE DEFINITIVO</h1>
    <div style=\"margin: 20px 0;\">
        <button onclick=\"testarRegistro()\" style=\"padding: 15px 30px; font-size: 18px; cursor: pointer; background: lime; border: none;\">
            CLIQUE PARA TESTAR
        </button>
    </div>
    <div id=\"logs\" style=\"background: #1a1a1a; padding: 10px; border: 1px solid #333; min-height: 300px; max-height: 500px; overflow-y: auto;\"></div>

    <script>
        // FunÃ§Ã£o de log
        function log(msg, cor = 'white') {
            const logsDiv = document.getElementById('logs');
            const time = new Date().toLocaleTimeString();
            logsDiv.innerHTML += `<div style=\"color: ${cor}; margin: 5px 0;\">[${time}] ${msg}</div>`;
            logsDiv.scrollTop = logsDiv.scrollHeight;
            console.log(msg);
        }

        log('âœ… PÃ¡gina carregada', 'lime');
        log('âœ… JavaScript funcionando', 'lime');

        async function testarRegistro() {
            log('ğŸš€ FunÃ§Ã£o testarRegistro() chamada!', 'yellow');
            
            const email = 'teste' + Date.now() + '@teste.com';
            const senha = 'senha123';
            
            log('ğŸ“§ Email: ' + email, 'cyan');
            log('ğŸ”’ Senha: ***', 'cyan');
            
            const url = 'https://verificapessoa-api.onrender.com/api/auth/register';
            log('ğŸŒ URL: ' + url, 'cyan');
            
            try {
                log('ğŸ“¤ Enviando requisiÃ§Ã£o...', 'yellow');
                
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ 
                        email: email, 
                        password: senha 
                    })
                });
                
                log('ğŸ“¥ Resposta recebida!', 'yellow');
                log('ğŸ“Š Status: ' + response.status, response.ok ? 'lime' : 'red');
                log('ğŸ“Š OK: ' + response.ok, response.ok ? 'lime' : 'red');
                
                const data = await response.json();
                log('ğŸ“¦ Dados: ' + JSON.stringify(data, null, 2), 'cyan');
                
                if (response.ok) {
                    log('âœ…âœ…âœ… SUCESSO! CONTA CRIADA!', 'lime');
                    alert('âœ… FUNCIONOU! Conta criada: ' + email);
                } else {
                    log('âŒ ERRO: ' + data.detail, 'red');
                    alert('âŒ Erro: ' + data.detail);
                }
                
            } catch (error) {
                log('âŒâŒâŒ ERRO NA REQUISIÃ‡ÃƒO!', 'red');
                log('âŒ Erro: ' + error.message, 'red');
                log('âŒ Nome: ' + error.name, 'red');
                alert('âŒ ERRO: ' + error.message);
            }
        }

        log('âœ… Script completo carregado!', 'lime');
        log('â³ Aguardando clique no botÃ£o...', 'yellow');
    </script>
</body>
</html>
